# ๐ง ุฅุตูุงุญ ูุดููุฉ ูุฒุงููุฉ ุจูุงูุงุช ุงูุดุฑุงูุฉ

## ๐ ูุตู ุงููุดููุฉ

### ุงููุดุงูู ุงูููุชุดูุฉ:

1. **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุบูุฑ ูุชุทุงุจู:**
   - ููุญุฉ ุงูุชุญูู (Admin Panel): `contact|partenariat@matc.com` โ
   - ุงููููุน ุงูุฑุฆูุณู: `ahmedmaalou78l@gmail.com` โ

2. **ุฑุณุงูุฉ "Vรฉrification du Backend...":**
   - ุงูุตูุญุฉ ุชุนุฑุถ ุฑุณุงูุฉ ุงูุชุญูู ููุง ุชุชุญุฏุซ
   - `backendStatus` ูุจูู ุนูู `'checking'`

3. **ุงูุจูุงูุงุช ุบูุฑ ูุชุฒุงููุฉ:**
   - ุงูุจูุงูุงุช ูุญููุธุฉ ูู localStorage ูู ุงูุฃุฏูู ุจุงูู
   - ุงููููุน ุงูุฑุฆูุณู ูุง ูุณุชุทูุน ูุฑุงุกุฉ ุงูุจูุงูุงุช ูู Backend

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. ุฅุตูุงุญ ูุดููุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

#### ุงูุณุจุจ:
ุงูุจุฑูุฏ ูุงู ูุญููุธุงู ูู ูุชุบูุฑ ุฐุงูุฑุฉ (memory variable) ููุนุงุฏ ุชุนูููู ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู Backend.

#### ุงูุญู:
- โ ุฅุถุงูุฉ ุญูู `partnershipEmail` ูู ูููุฐุฌ `SiteConfig` ูู MongoDB
- โ ุชุญุฏูุซ API endpoints ูุญูุธ/ูุฑุงุกุฉ ุงูุจุฑูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุงูุจุฑูุฏ ุงูุขู ูุจูู ุซุงุจุชุงู ุญุชู ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู Backend

**ุงููููุงุช ุงููุนุฏูุฉ:**
- `backend/models/SiteConfig.js` - ุฅุถุงูุฉ ุญูู partnershipEmail
- `backend/routes/partnerships.js` - ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุฏูุงู ูู ุงูุฐุงูุฑุฉ

### 2. ุฅุตูุงุญ ุฑุณุงูุฉ "Vรฉrification du Backend..."

#### ุงูุณุจุจ:
ูุง ููุฌุฏ useEffect ููุญุต ุญุงูุฉ Backend ุนูุฏ ุชุญููู ุงูุตูุญุฉ.

#### ุงูุญู:
- โ ุฅุถุงูุฉ useEffect ููุญุต ุญุงูุฉ Backend ุชููุงุฆูุงู
- โ ุชุญุฏูุซ `backendStatus` ุจูุงุกู ุนูู ูุชูุฌุฉ ุงููุญุต
- โ ุนุฑุถ ุงูุญุงูุฉ ุงูุตุญูุญุฉ ูููุณุชุฎุฏู

**ุงูููู ุงููุนุฏู:**
- `admin-panel/src/pages/FinancePage.tsx` - ุฅุถุงูุฉ useEffect ูููุญุต

### 3. ุชุญุณูู ุงููุฒุงููุฉ

#### ุงูุญู:
- โ ุฅูุดุงุก ุตูุญุฉ ุงุฎุชุจุงุฑ ุดุงููุฉ ููุญุต ุงููุฒุงููุฉ
- โ ุนุฑุถ ููุงุฑูุฉ ูุงุถุญุฉ ุจูู ุงูุจูุงูุงุช
- โ ุฃุฒุฑุงุฑ ูุฅุตูุงุญ ุงููุดุงูู ุชููุงุฆูุงู

**ุงูููู ุงูุฌุฏูุฏ:**
- `test-partnership-sync-fix.html` - ุตูุญุฉ ุงุฎุชุจุงุฑ ุดุงููุฉ

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### 1. ุงูุชุญ ุตูุญุฉ ุงูุงุฎุชุจุงุฑ

```
test-partnership-sync-fix.html
```

### 2. ูู ุจุงููุญูุตุงุช ุงูุชุงููุฉ:

#### ุฃ) ูุญุต ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:
1. ุงุถุบุท "๐ ูุญุต ุงูุจุฑูุฏ ุงูุฅููุชุฑููู"
2. ุฅุฐุง ูุงู ุบูุฑ ูุชุทุงุจูุ ุงุถุบุท "๐ง ุฅุตูุงุญ ุงููุฒุงููุฉ"
3. ุชุญูู ูู ุงูุชุทุงุจู

#### ุจ) ูุญุต ุจูุงูุงุช ุงูุดุฑุงูุงุช:
1. ุงุถุบุท "๐ ูุญุต ุงูุดุฑุงูุงุช"
2. ุชุญูู ูู ูุฌูุฏ ุฌููุน ุงูุดุฑุงูุงุช ุงูุฃุฑุจุนุฉ
3. ุฅุฐุง ูุงูุช ููููุฏุฉุ ุงุชุจุน ุฎุทูุงุช ุงููุฒุงููุฉ

#### ุฌ) ูุญุต ุฅุนุฏุงุฏุงุช ุงูุธููุฑ:
1. ุงุถุบุท "๐ ูุญุต ุงูุธููุฑ"
2. ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุธููุฑ/ุงูุฅุฎูุงุก

## ๐ฆ ุฎุทูุงุช ุงููุดุฑ (Deployment)

### 1. ูุดุฑ Backend

```bash
cd backend
git add .
git commit -m "Fix: Partnership email persistence and sync issues"
git push
```

ุฃู ุฅุฐุง ููุช ุชุณุชุฎุฏู Render:
- Render ุณููุชุดู ุงูุชุบููุฑุงุช ุชููุงุฆูุงู
- ุงูุชุธุฑ ุงูุชูุงู ุงููุดุฑ (~2-3 ุฏูุงุฆู)

### 2. ูุดุฑ Admin Panel

```bash
cd admin-panel
git add .
git commit -m "Fix: Backend status check and sync"
git push
```

ุฃู ุฅุฐุง ููุช ุชุณุชุฎุฏู Vercel:
- Vercel ุณููุดุฑ ุงูุชุบููุฑุงุช ุชููุงุฆูุงู
- ุงูุชุธุฑ ุงูุชูุงู ุงููุดุฑ (~1-2 ุฏูููุฉ)

### 3. ุงูุชุญูู ูู ุงูุฅุตูุงุญ

1. ุงูุชุญ ููุญุฉ ุงูุชุญูู: https://admine-lake-ten.vercel.app/finance
2. ุชุญูู ูู ุงุฎุชูุงุก ุฑุณุงูุฉ "Vรฉrification du Backend..."
3. ูุฌุจ ุฃู ุชุฑู: "Backend synchronisรฉ" โ
4. ุญุฏูุซ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฅูู: `contact|partenariat@matc.com`
5. ุงุญูุธ ุงูุชุบููุฑุงุช

### 4. ุงูุชุญูู ูู ุงููููุน ุงูุฑุฆูุณู

1. ุงูุชุญ ุงููููุน: https://matrainingconsulting.eight.vercel.app
2. ุงุฐูุจ ุฅูู ุตูุญุฉ ุงูุดุฑุงูุฉ
3. ุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุงููุนุฑูุถ
4. ูุฌุจ ุฃู ูููู: `contact|partenariat@matc.com` โ

## ๐ ููู ูุนูู ุงููุธุงู ุงูุขู

### ูุจู ุงูุฅุตูุงุญ:
```
Admin Panel โ localStorage โ โ ูุง ูุตู ูููููุน
Backend โ Memory Variable โ โ ููููุฏ ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู
```

### ุจุนุฏ ุงูุฅุตูุงุญ:
```
Admin Panel โ Backend API โ MongoDB โ โ ุฏุงุฆู
                              โ
                        ุงููููุน ุงูุฑุฆูุณู
```

## ๐ ุชุฏูู ุงูุจูุงูุงุช

### 1. ุญูุธ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:
```
Admin Panel (Finance Page)
    โ
PUT /api/partnerships/global-email
    โ
MongoDB (SiteConfig.partnershipEmail)
    โ
โ ูุญููุธ ุจุดูู ุฏุงุฆู
```

### 2. ุนุฑุถ ุงูุจุฑูุฏ ุนูู ุงููููุน:
```
Public Website (Partnership Page)
    โ
GET /api/partnerships/global-email
    โ
MongoDB (SiteConfig.partnershipEmail)
    โ
โ ูุนุฑุถ ุงูุจุฑูุฏ ุงูุตุญูุญ
```

### 3. ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู Backend:
```
Backend Restart
    โ
MongoDB ูุง ูุฒุงู ูุญุชูู ุนูู ุงูุจูุงูุงุช
    โ
โ ุงูุจุฑูุฏ ูุง ููููุฏ ุฃุจุฏุงู
```

## โ ุงูููุงุฆุฏ

- โ **ุซุจุงุช ุงูุจูุงูุงุช:** ุงูุจุฑูุฏ ูุง ููููุฏ ุฃุจุฏุงู
- โ **ูุฒุงููุฉ ุชููุงุฆูุฉ:** ุงูุจูุงูุงุช ูุชุฒุงููุฉ ุจูู ุงูุฃุฏูู ูุงููููุน
- โ **ุญุงูุฉ ูุงุถุญุฉ:** ุงููุณุชุฎุฏู ูุฑู ุญุงูุฉ Backend ุจูุถูุญ
- โ **ุณูููุฉ ุงูุงุฎุชุจุงุฑ:** ุตูุญุฉ ุงุฎุชุจุงุฑ ุดุงููุฉ
- โ **ูุงุจููุฉ ุงูุชูุณุน:** ูุนูู ูุน ุนุฏุฉ instances ูู Backend

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ูููุทูุฑ:

1. โ ูุดุฑ Backend ุจุงูุชุบููุฑุงุช ุงูุฌุฏูุฏุฉ
2. โ ูุดุฑ Admin Panel ุจุงูุชุบููุฑุงุช ุงูุฌุฏูุฏุฉ
3. โ ุงุฎุชุจุงุฑ ุจุงุณุชุฎุฏุงู `test-partnership-sync-fix.html`
4. โ ุชุญุฏูุซ ุงูุจุฑูุฏ ูู ููุญุฉ ุงูุชุญูู
5. โ ุงูุชุญูู ูู ุงููููุน ุงูุฑุฆูุณู

### ูููุณุชุฎุฏู (Admin):

1. ุงูุชุญ ููุญุฉ ุงูุชุญูู โ Finance
2. ุชุญูู ูู ุธููุฑ "Backend synchronisรฉ" โ
3. ุญุฏูุซ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฅูู: `contact|partenariat@matc.com`
4. ุงุญูุธ ุงูุชุบููุฑุงุช
5. ุชุญูู ูู ุงููููุน ุงูุฑุฆูุณู

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### Backend:
- โ `backend/models/SiteConfig.js` - ุฅุถุงูุฉ partnershipEmail
- โ `backend/routes/partnerships.js` - ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### Admin Panel:
- โ `admin-panel/src/pages/FinancePage.tsx` - ุฅุถุงูุฉ ูุญุต Backend

### ูููุงุช ุงูุงุฎุชุจุงุฑ:
- โ `test-partnership-email-fix.html` - ุงุฎุชุจุงุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ `test-partnership-sync-fix.html` - ุงุฎุชุจุงุฑ ุงููุฒุงููุฉ ุงูุดุงูู
- โ `PARTNERSHIP_EMAIL_FIX.md` - ุชูุซูู ุจุงูุฅูุฌููุฒูุฉ
- โ `PARTNERSHIP_SYNC_FIX_AR.md` - ูุฐุง ุงูููู (ุชูุซูู ุจุงูุนุฑุจูุฉ)

## ๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุงููุดุฑ:
- โ ููุญุฉ ุงูุชุญูู: ุชุนุฑุถ "Backend synchronisรฉ"
- โ ุงูุจุฑูุฏ ูู ุงูุฃุฏูู: `contact|partenariat@matc.com`
- โ ุงูุจุฑูุฏ ูู ุงููููุน: `contact|partenariat@matc.com`
- โ ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู: ุงูุจุฑูุฏ ูุจูู `contact|partenariat@matc.com`

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ุชุฒุงู ุฑุณุงูุฉ "Vรฉrification du Backend..." ุชุธูุฑ

**ุงูุญู:**
1. ุชุฃูุฏ ูู ูุดุฑ Admin Panel
2. ุงูุณุญ cache ุงููุชุตูุญ (Ctrl+Shift+Delete)
3. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ (Ctrl+F5)

### ุงููุดููุฉ: ุงูุจุฑูุฏ ูุง ูุฒุงู ุบูุฑ ูุชุทุงุจู

**ุงูุญู:**
1. ุชุฃูุฏ ูู ูุดุฑ Backend
2. ุงูุชุญ `test-partnership-sync-fix.html`
3. ุงุถุบุท "๐ง ุฅุตูุงุญ ุงููุฒุงููุฉ"
4. ุฃุนุฏ ุชุญููู ุงููููุน

### ุงููุดููุฉ: Backend ูุง ูุณุชุฌูุจ

**ุงูุญู:**
1. ุชุญูู ูู ุฃู Backend ูุนูู: https://matc-backend.onrender.com
2. ุฅุฐุง ูุงู ูู ูุถุน Sleepุ ุงูุชุธุฑ 30-60 ุซุงููุฉ
3. ุฃุนุฏ ุงููุญุงููุฉ

---

**ุงูุญุงูุฉ:** โ ุงูุฅุตูุงุญ ููุชูู ูุฌุงูุฒ ูููุดุฑ
**ุงูุฃููููุฉ:** ๐ด ุนุงููุฉ - ูุตูุญ ูุดููุฉ ุญุฑุฌุฉ ูู ุงููุฒุงููุฉ
**ุงูุชุฃุซูุฑ:** ๐ฏ ูุถูู ุชุทุงุจู ุงูุจูุงูุงุช ุจูู ููุญุฉ ุงูุชุญูู ูุงููููุน ุงูุฑุฆูุณู
