<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üö® URGENT - Port Problem</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #dc2626;
            color: white;
            min-height: 100vh;
        }
        .container {
            background: white;
            color: black;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        .critical {
            background: #fef2f2;
            border: 4px solid #dc2626;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            text-align: center;
        }
        .solution {
            background: #f0fdf4;
            border: 3px solid #22c55e;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .code {
            background: #1f2937;
            color: #f3f4f6;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            margin: 10px 0;
            font-size: 16px;
        }
        .step {
            background: #fffbeb;
            border: 2px solid #f59e0b;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        button {
            background: #dc2626;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px 5px;
            font-weight: 600;
            font-size: 16px;
        }
        button:hover { background: #b91c1c; }
    </style>
</head>
<body>
    <div class="container">
        <div class="critical">
            <h1>üö® PROBL√àME CRITIQUE IDENTIFI√â!</h1>
            <h2>Admin Panel sur MAUVAIS PORT!</h2>
            <p><strong>CAUSE:</strong> Admin Panel d√©marre sur port 8538 au lieu de 8536</p>
            <p><strong>R√âSULTAT:</strong> Tu testes sur le mauvais URL!</p>
        </div>

        <div class="solution">
            <h2>‚úÖ SOLUTION IMM√âDIATE</h2>
            
            <h3>üéØ NOUVEAU URL CORRECT:</h3>
            <div class="code">http://localhost:8538/commercial-services</div>
            
            <h3>üìã √âTAPES:</h3>
            <ol>
                <li><strong>Fermer tous les onglets Admin Panel</strong></li>
                <li><strong>Ouvrir le NOUVEAU URL:</strong></li>
                <div class="code">http://localhost:8538/commercial-services</div>
                <li><strong>Tester boutons Supprimer</strong></li>
                <li><strong>Tu DOIS voir l'alert maintenant!</strong></li>
            </ol>
        </div>

        <div class="step">
            <h3>üîç POURQUOI LE PROBL√àME:</h3>
            <ul>
                <li>Port 8536 √©tait occup√©</li>
                <li>Vite a automatiquement choisi 8538</li>
                <li>Tu testais sur l'ancien port 8536</li>
                <li>Donc tu voyais l'ancienne version sans modifications!</li>
            </ul>
        </div>

        <div class="step">
            <h3>üß™ TEST RAPIDE:</h3>
            <button onclick="testNewPort()">üîó Test Port 8538</button>
            <button onclick="testOldPort()">‚ùå Test Port 8536 (ancien)</button>
            <div id="test-results" style="background: #1f2937; color: #f3f4f6; padding: 15px; border-radius: 8px; margin-top: 15px; font-family: monospace; white-space: pre-wrap;"></div>
        </div>

        <div class="critical">
            <h2>üéØ ACTION IMM√âDIATE:</h2>
            <p><strong>Ouvre ce lien MAINTENANT:</strong></p>
            <a href="http://localhost:8538/commercial-services" target="_blank" style="color: #dc2626; font-size: 18px; font-weight: bold;">
                http://localhost:8538/commercial-services
            </a>
            <p>Et teste les boutons Supprimer!</p>
        </div>

        <div class="solution">
            <h3>üîß POUR √âVITER LE PROBL√àME √Ä L'AVENIR:</h3>
            
            <h4>Option 1: Lib√©rer le port 8536</h4>
            <div class="code">
# Trouver qui utilise le port 8536:
netstat -ano | findstr :8536

# Tuer le processus:
taskkill /PID [PID_NUMBER] /F
            </div>

            <h4>Option 2: Forcer le port dans vite.config.ts</h4>
            <div class="code">
export default defineConfig({
  server: {
    port: 8536,
    strictPort: true  // √âchoue si port occup√©
  }
})
            </div>
        </div>
    </div>

    <script>
        async function testNewPort() {
            const resultDiv = document.getElementById('test-results');
            resultDiv.textContent = 'üîó Test Port 8538 (NOUVEAU)...\n\n';

            try {
                const response = await fetch('http://localhost:8538/commercial-services');
                resultDiv.textContent += `Status: ${response.status}\n`;
                resultDiv.textContent += `Accessible: ${response.ok ? '‚úÖ OUI' : '‚ùå NON'}\n\n`;

                if (response.ok) {
                    resultDiv.textContent += '‚úÖ NOUVEAU PORT FONCTIONNE!\n';
                    resultDiv.textContent += 'C\'est ici que tu dois tester les boutons.\n';
                    resultDiv.textContent += 'Ouvre: http://localhost:8538/commercial-services';
                } else {
                    resultDiv.textContent += '‚ùå Nouveau port ne r√©pond pas';
                }
            } catch (error) {
                resultDiv.textContent += `‚ùå Erreur: ${error.message}`;
            }
        }

        async function testOldPort() {
            const resultDiv = document.getElementById('test-results');
            resultDiv.textContent = '‚ùå Test Port 8536 (ANCIEN)...\n\n';

            try {
                const response = await fetch('http://localhost:8536/commercial-services');
                resultDiv.textContent += `Status: ${response.status}\n`;
                resultDiv.textContent += `Accessible: ${response.ok ? '‚úÖ OUI' : '‚ùå NON'}\n\n`;

                if (response.ok) {
                    resultDiv.textContent += '‚ö†Ô∏è ANCIEN PORT ENCORE ACTIF!\n';
                    resultDiv.textContent += 'C\'est pourquoi tu ne vois pas les modifications.\n';
                    resultDiv.textContent += 'Tu testais sur l\'ancienne version!';
                } else {
                    resultDiv.textContent += '‚úÖ Ancien port ferm√© (normal)';
                }
            } catch (error) {
                resultDiv.textContent += `‚úÖ Ancien port ferm√©: ${error.message}`;
            }
        }

        window.onload = function() {
            // Auto-test new port
            setTimeout(testNewPort, 1000);
        };
    </script>
</body>
</html>
