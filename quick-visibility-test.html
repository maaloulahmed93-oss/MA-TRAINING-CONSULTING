<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Visibility Test - MATC</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .status {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: bold;
        }
        .success { background: #d1fae5; color: #065f46; }
        .error { background: #fee2e2; color: #991b1b; }
        .warning { background: #fef3c7; color: #92400e; }
        .info { background: #dbeafe; color: #1e40af; }
        
        .step {
            background: #f1f5f9;
            padding: 20px;
            border-left: 4px solid #3b82f6;
            margin: 15px 0;
        }
        
        .demo-card {
            background: linear-gradient(to right, #3b82f6, #1d4ed8);
            color: white;
            padding: 20px;
            border-radius: 15px;
            position: relative;
            margin: 20px 0;
            min-height: 100px;
        }
        
        .demo-button {
            position: absolute;
            top: 12px;
            right: 12px;
            padding: 12px;
            border-radius: 50%;
            border: 2px solid;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
            font-weight: bold;
        }
        
        .visible-btn {
            background: #dcfce7;
            border-color: #22c55e;
            color: #166534;
        }
        
        .hidden-btn {
            background: #fee2e2;
            border-color: #ef4444;
            color: #991b1b;
        }
        
        .status-text {
            position: absolute;
            top: 60px;
            right: 12px;
            font-size: 10px;
            font-weight: bold;
            text-align: center;
        }
        
        .visible-text { color: #22c55e; }
        .hidden-text { color: #ef4444; }
    </style>
</head>
<body>
    <div class="container">
        <h1>⚡ Quick Visibility Test</h1>
        <p><strong>Test rapide du nouveau système de visibilité</strong></p>

        <div class="status success">
            ✅ <strong>Nouveau système appliqué:</strong><br>
            • State management local<br>
            • Réactivité immédiate<br>
            • Pas de rechargement de page<br>
            • Console logs pour debug
        </div>

        <div class="step">
            <h3>🎯 Test Immédiat:</h3>
            
            <ol style="line-height: 1.8;">
                <li><strong>Allez sur Admin Panel:</strong> <code>localhost:8536/finance</code></li>
                <li><strong>Ouvrez Console:</strong> F12 → Console</li>
                <li><strong>Cliquez n'importe quelle œil 👁️</strong></li>
                <li><strong>Résultat attendu IMMÉDIAT:</strong>
                    <ul>
                        <li>Console: <code>🔄 Toggling visibility for [category]</code></li>
                        <li>Console: <code>Current: true, New: false</code></li>
                        <li>Bouton change: 👁️ → 🚫</li>
                        <li>Couleur change: Vert → Rouge</li>
                        <li>Texte change: VISIBLE → CACHÉ</li>
                        <li>Popup: Message de confirmation</li>
                    </ul>
                </li>
            </ol>
        </div>

        <div class="step">
            <h3>🎮 Démo Interactive:</h3>
            
            <div class="demo-card">
                <div class="demo-button visible-btn" onclick="toggleDemo(this)">👁️</div>
                <div class="status-text visible-text">VISIBLE</div>
                <h3>📘 Test Formateur</h3>
                <p>Cliquez le bouton pour voir l'effet attendu</p>
            </div>
            
            <p style="text-align: center; font-weight: bold;">
                👆 Cliquez pour simuler le comportement attendu
            </p>
        </div>

        <div class="step">
            <h3>🔧 Si ça ne marche TOUJOURS pas:</h3>
            
            <div class="status error">
                <strong>Actions d'urgence:</strong><br>
                1. <strong>Hard Refresh:</strong> Ctrl+Shift+R<br>
                2. <strong>Clear All:</strong> F12 → Application → Storage → Clear All<br>
                3. <strong>Restart Dev Server:</strong> Ctrl+C puis npm run dev<br>
                4. <strong>Check Console Errors:</strong> Rechercher erreurs rouges
            </div>
        </div>

        <div class="step">
            <h3>✅ Checklist de Fonctionnement:</h3>
            
            <div style="background: #f8fafc; padding: 15px; border-radius: 8px;">
                <h4>Le système fonctionne si:</h4>
                <ul>
                    <li>✅ Console logs apparaissent</li>
                    <li>✅ Bouton change visuellement</li>
                    <li>✅ Popup de confirmation apparaît</li>
                    <li>✅ Pas d'erreurs rouges en console</li>
                    <li>✅ Changement persistant (après refresh)</li>
                </ul>
            </div>
        </div>

        <div class="step">
            <h3>🌐 Test Final sur le Site:</h3>
            
            <ol>
                <li>Cachez 2 partenariats dans Admin Panel</li>
                <li>Allez sur <code>localhost:5173</code></li>
                <li>Programme de Partenariat</li>
                <li>Vous devriez voir seulement 2 cartes</li>
            </ol>
        </div>
    </div>

    <script>
        function toggleDemo(button) {
            const isVisible = button.classList.contains('visible-btn');
            const statusText = button.parentElement.querySelector('.status-text');
            
            if (isVisible) {
                // Change to hidden
                button.classList.remove('visible-btn');
                button.classList.add('hidden-btn');
                button.textContent = '🚫';
                statusText.textContent = 'CACHÉ';
                statusText.classList.remove('visible-text');
                statusText.classList.add('hidden-text');
                
                alert('🚫 Partenariat CACHÉ!\n\n❌ Changement immédiat - pas de rechargement de page!');
            } else {
                // Change to visible
                button.classList.remove('hidden-btn');
                button.classList.add('visible-btn');
                button.textContent = '👁️';
                statusText.textContent = 'VISIBLE';
                statusText.classList.remove('hidden-text');
                statusText.classList.add('visible-text');
                
                alert('👁️ Partenariat VISIBLE!\n\n✅ Changement immédiat - pas de rechargement de page!');
            }
        }
    </script>
</body>
</html>
