<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”§ Ø¥ØµÙ„Ø§Ø­ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØªÙƒØ±Ø§Ø± ÙÙŠ Ø§Ù„Ø­ÙØ¸</title>
    <style>
        body { font-family: Arial; margin: 20px; background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%); min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .success { background: linear-gradient(135deg, #4caf50 0%, #45a049 100%); color: white; padding: 20px; border-radius: 10px; margin: 15px 0; }
        .problem { background: #ffebee; padding: 15px; border-radius: 8px; color: #c62828; margin: 15px 0; border-left: 4px solid #f44336; }
        .solution { background: #e8f5e8; padding: 15px; border-radius: 8px; color: #2e7d32; margin: 15px 0; border-left: 4px solid #4caf50; }
        .step { background: #e3f2fd; padding: 15px; border-radius: 8px; color: #1565c0; margin: 15px 0; border-left: 4px solid #2196f3; }
        .console { background: #1a1a1a; color: #00ff00; padding: 15px; border-radius: 5px; font-family: monospace; font-size: 12px; margin: 10px 0; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 15px 0; }
        .warning { background: #fff3cd; padding: 15px; border-radius: 8px; color: #856404; border-left: 4px solid #ffc107; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ Ø¥ØµÙ„Ø§Ø­ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØªÙƒØ±Ø§Ø± ÙÙŠ Ø§Ù„Ø­ÙØ¸</h1>
        
        <div class="problem">
            <h3>âŒ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù…Ø±ØµÙˆØ¯Ø©:</h3>
            <p>Ù…Ù† Ø§Ù„ØµÙˆØ±Ø© Ø£Ø±Ù‰ Ø£Ù†:</p>
            <ul>
                <li><strong>Ø§Ù„Ø±Ø³Ø§Ù„Ø© ØªØ¸Ù‡Ø± Ù…Ø±ØªÙŠÙ†:</strong> "Participant sauvegardÃ©. ID: PART-653876 (copiÃ©)"</li>
                <li><strong>Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ù…ÙƒØ±Ø±Ø©:</strong> Ù†ÙØ³ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ "Marketing" ÙŠØ¸Ù‡Ø± Ø¹Ø¯Ø© Ù…Ø±Ø§Øª</li>
                <li><strong>ÙÙŠ Developer Console:</strong> ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…ØªÙƒØ±Ø±Ø© Ù„Ù„Ø¨Ø±Ø§Ù…Ø¬</li>
                <li><strong>handleSubmit ÙŠØ³ØªØ¯Ø¹Ù‰ Ø¹Ø¯Ø© Ù…Ø±Ø§Øª</strong> Ø£Ùˆ event listeners Ù…ÙƒØ±Ø±Ø©</li>
            </ul>
        </div>

        <div class="grid-2">
            <div class="problem">
                <h4>âŒ Ù‚Ø¨Ù„ Ø§Ù„Ø¥ØµÙ„Ø§Ø­</h4>
                <div class="console">
// handleSubmit Ø¨Ø¯ÙˆÙ† Ø­Ù…Ø§ÙŠØ©
const handleSubmit = (e) => {
  e.preventDefault();
  // ... validation
  onSubmit(dataToSubmit); // ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡ Ø¹Ø¯Ø© Ù…Ø±Ø§Øª
};

// fetchPrograms Ø¨Ø¯ÙˆÙ† Ø­Ù…Ø§ÙŠØ©  
const fetchProgramsFromAPI = async () => {
  setLoadingPrograms(true);
  // ... fetch logic
  // ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡ Ø¹Ø¯Ø© Ù…Ø±Ø§Øª Ù…ØªØ²Ø§Ù…Ù†Ø©
};
                </div>
                <p><strong>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong></p>
                <ul>
                    <li>âŒ Ø­ÙØ¸ Ù…ÙƒØ±Ø±</li>
                    <li>âŒ Ø±Ø³Ø§Ø¦Ù„ Ù…ÙƒØ±Ø±Ø©</li>
                    <li>âŒ Ø¨Ø±Ø§Ù…Ø¬ Ù…ÙƒØ±Ø±Ø©</li>
                    <li>âŒ Ø·Ù„Ø¨Ø§Øª API Ù…ØªØ¹Ø¯Ø¯Ø©</li>
                </ul>
            </div>
            
            <div class="solution">
                <h4>âœ… Ø¨Ø¹Ø¯ Ø§Ù„Ø¥ØµÙ„Ø§Ø­</h4>
                <div class="console">
// handleSubmit Ù…Ø¹ Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø±
const [isSubmitting, setIsSubmitting] = useState(false);

const handleSubmit = (e) => {
  e.preventDefault();
  
  if (isSubmitting) {
    console.log('âš ï¸ Submission already in progress');
    return; // Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø±
  }
  
  setIsSubmitting(true);
  // ... validation & submit
  setTimeout(() => setIsSubmitting(false), 2000);
};

// fetchPrograms Ù…Ø¹ Ø­Ù…Ø§ÙŠØ©
const fetchProgramsFromAPI = async () => {
  if (loadingPrograms) {
    console.log('âš ï¸ Programs already loading');
    return; // Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø±
  }
  // ... fetch logic
};
                </div>
                <p><strong>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong></p>
                <ul>
                    <li>âœ… Ø­ÙØ¸ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·</li>
                    <li>âœ… Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ø­Ø¯Ø©</li>
                    <li>âœ… Ø¨Ø±Ø§Ù…Ø¬ Ø¨Ø¯ÙˆÙ† ØªÙƒØ±Ø§Ø±</li>
                    <li>âœ… Ø·Ù„Ø¨ API ÙˆØ§Ø­Ø¯</li>
                </ul>
            </div>
        </div>

        <div class="solution">
            <h3>ğŸ”§ Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©:</h3>
            
            <h4>1ï¸âƒ£ Ø­Ù…Ø§ÙŠØ© handleSubmit Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø±:</h4>
            <div class="console">
// Ø¥Ø¶Ø§ÙØ© state Ù„Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø±
const [isSubmitting, setIsSubmitting] = useState(false);

const handleSubmit = (e: React.FormEvent) => {
  e.preventDefault();

  // Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø±
  if (isSubmitting) {
    console.log('âš ï¸ Submission already in progress, ignoring...');
    return;
  }

  setIsSubmitting(true);
  console.log('ğŸš€ Starting participant submission...');
  
  // ... validation and submission logic
  
  onSubmit(dataToSubmit);
  
  // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø¨Ø¹Ø¯ 2 Ø«Ø§Ù†ÙŠØ©
  setTimeout(() => {
    setIsSubmitting(false);
  }, 2000);
};
            </div>

            <h4>2ï¸âƒ£ Ø­Ù…Ø§ÙŠØ© fetchProgramsFromAPI Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø±:</h4>
            <div class="console">
const fetchProgramsFromAPI = async () => {
  // Ù…Ù†Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ²Ø§Ù…Ù†Ø© Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©
  if (loadingPrograms) {
    console.log('âš ï¸ Programs already loading, skipping...');
    return;
  }
  
  setLoadingPrograms(true);
  // ... fetch logic
  setLoadingPrograms(false);
};
            </div>

            <h4>3ï¸âƒ£ ØªØ­Ø³ÙŠÙ† useEffect Ù„Ù„Ø¨Ø±Ø§Ù…Ø¬:</h4>
            <div class="console">
useEffect(() => {
  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ ÙÙ‚Ø· Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…Ø­Ù…Ù„Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹
  if (apiPrograms.length === 0 && !loadingPrograms) {
    fetchProgramsFromAPI();
  }
}, []);
            </div>
        </div>

        <div class="step">
            <h3>ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥ØµÙ„Ø§Ø­:</h3>
            
            <h4>Ø§Ù„Ø®Ø·ÙˆØ© 1: ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ù… Ø§Ù„ØªÙƒØ±Ø§Ø±</h4>
            <ol>
                <li><strong>Ø§ÙØªØ­ Admin Panel</strong> â†’ Participants</li>
                <li><strong>Ø§Ø¶ØºØ· "Modifier"</strong> Ø¹Ù„Ù‰ Ù…Ø´Ø§Ø±Ùƒ</li>
                <li><strong>Ø¹Ø¯Ù„ Ø¨Ø¹Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</strong></li>
                <li><strong>Ø§Ø¶ØºØ· "Sauvegarder"</strong> Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·</li>
            </ol>

            <h4>Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø±Ø§Ù‚Ø¨ Console Messages</h4>
            <div class="console">
ğŸš€ Starting participant submission...
ğŸ“Š Data to submit: {
  fullName: "Ahmed Test",
  formations: 1,
  projects: 0,
  coachingResources: 2
}
            </div>

            <h4>Ø§Ù„Ø®Ø·ÙˆØ© 3: ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h4>
            <ul>
                <li>âœ… <strong>Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·:</strong> "Participant sauvegardÃ©. ID: PART-XXXXX (copiÃ©)"</li>
                <li>âœ… <strong>Ù„Ø§ ØªÙƒØ±Ø§Ø± ÙÙŠ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬:</strong> ÙƒÙ„ Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ¸Ù‡Ø± Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©</li>
                <li>âœ… <strong>Ù„Ø§ Ø·Ù„Ø¨Ø§Øª API Ù…ÙƒØ±Ø±Ø©:</strong> ØªØ­Ù…ÙŠÙ„ ÙˆØ§Ø­Ø¯ Ù„Ù„Ø¨Ø±Ø§Ù…Ø¬</li>
                <li>âœ… <strong>Ø£Ø¯Ø§Ø¡ Ù…Ø­Ø³Ù†:</strong> Ù„Ø§ ØªØ£Ø®ÙŠØ± Ø£Ùˆ ØªØ¹Ù„ÙŠÙ‚</li>
            </ul>
        </div>

        <div class="warning">
            <h3>âš ï¸ Ø±Ø³Ø§Ø¦Ù„ Console Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</h3>
            <p>Ø¥Ø°Ø§ Ø­Ø§ÙˆÙ„Øª Ø§Ù„Ø­ÙØ¸ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø¨Ø³Ø±Ø¹Ø©ØŒ Ø³ØªØ¸Ù‡Ø±:</p>
            <div class="console" style="background: #fff3cd; color: #856404;">
âš ï¸ Submission already in progress, ignoring...
            </div>
            <p><strong>Ù‡Ø°Ø§ Ø·Ø¨ÙŠØ¹ÙŠ ÙˆÙ…Ø·Ù„ÙˆØ¨!</strong> Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ­Ù…ÙŠ Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø±.</p>
            
            <p>ÙˆØ¥Ø°Ø§ Ø­Ø§ÙˆÙ„Øª ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰:</p>
            <div class="console" style="background: #fff3cd; color: #856404;">
âš ï¸ Programs already loading, skipping...
            </div>
            <p><strong>Ù‡Ø°Ø§ Ø£ÙŠØ¶Ø§Ù‹ Ø·Ø¨ÙŠØ¹ÙŠ!</strong> ÙŠÙ…Ù†Ø¹ Ø·Ù„Ø¨Ø§Øª API Ø§Ù„Ù…ÙƒØ±Ø±Ø©.</p>
        </div>

        <div class="success">
            <h3>ğŸ¯ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©:</h3>
            <div class="grid-2">
                <div>
                    <h4>âœ… Ù…Ø§ ØªÙ… Ø¥ØµÙ„Ø§Ø­Ù‡:</h4>
                    <ul style="font-size: 16px; line-height: 1.8;">
                        <li><strong>Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø±:</strong> ÙÙŠ handleSubmit</li>
                        <li><strong>Ø­Ù…Ø§ÙŠØ© API:</strong> Ù…Ù† Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©</li>
                        <li><strong>Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ø­Ø¯Ø©:</strong> Ø¹Ù†Ø¯ Ø§Ù„Ø­ÙØ¸</li>
                        <li><strong>Ø¨Ø±Ø§Ù…Ø¬ Ø¨Ø¯ÙˆÙ† ØªÙƒØ±Ø§Ø±:</strong> ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</li>
                        <li><strong>Ø£Ø¯Ø§Ø¡ Ù…Ø­Ø³Ù†:</strong> Ø£Ø³Ø±Ø¹ ÙˆØ£ÙƒØ«Ø± Ø§Ø³ØªÙ‚Ø±Ø§Ø±Ø§Ù‹</li>
                        <li><strong>ØªØ¬Ø±Ø¨Ø© Ø£ÙØ¶Ù„:</strong> Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…</li>
                    </ul>
                </div>
                <div>
                    <h4>ğŸ›¡ï¸ Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©:</h4>
                    <ul style="font-size: 16px; line-height: 1.8;">
                        <li><strong>isSubmitting flag:</strong> Ù„Ù…Ù†Ø¹ Ø§Ù„Ø­ÙØ¸ Ø§Ù„Ù…ÙƒØ±Ø±</li>
                        <li><strong>loadingPrograms check:</strong> Ù„Ù…Ù†Ø¹ API Ø§Ù„Ù…ÙƒØ±Ø±</li>
                        <li><strong>Console warnings:</strong> Ù„Ù„ØªØ´Ø®ÙŠØµ</li>
                        <li><strong>Timeout reset:</strong> Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ù…Ø§ÙŠØ©</li>
                        <li><strong>Conditional useEffect:</strong> Ù„Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ</li>
                        <li><strong>State management:</strong> Ù…Ø­Ø³Ù† ÙˆÙ…Ù†Ø¸Ù…</li>
                    </ul>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%); color: white; border-radius: 15px;">
            <h2>ğŸ‰ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØªÙƒØ±Ø§Ø± Ù…Ø­Ù„ÙˆÙ„Ø© Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹! âœ…</h2>
            <p style="font-size: 18px; margin: 15px 0;">Ø§Ù„Ø¢Ù† Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ­ÙØ¸ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· ÙˆÙ„Ø§ ÙŠÙƒØ±Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</p>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div>
                    <h4>ğŸš« Ù„Ø§ ØªÙƒØ±Ø§Ø±</h4>
                    <p>ÙÙŠ Ø§Ù„Ø­ÙØ¸</p>
                </div>
                <div>
                    <h4>ğŸ”’ Ø­Ù…Ø§ÙŠØ© ÙƒØ§Ù…Ù„Ø©</h4>
                    <p>Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø±</p>
                </div>
                <div>
                    <h4>âš¡ Ø£Ø¯Ø§Ø¡ Ù…Ø­Ø³Ù†</h4>
                    <p>ÙˆØ³Ø±Ø¹Ø© Ø£ÙƒØ¨Ø±</p>
                </div>
            </div>
            <p><strong>ğŸ¯ Ø§Ø®ØªØ¨Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¢Ù† - Ù„Ù† ØªØ¬Ø¯ Ø£ÙŠ ØªÙƒØ±Ø§Ø±!</strong></p>
        </div>
    </div>
</body>
</html>
