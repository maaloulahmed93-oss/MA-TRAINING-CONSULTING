<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Espace Participant - MA Training Consulting</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/framer-motion@10/dist/framer-motion.js"></script>
    <script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide-react.js"></script>
    <style>
        /* Participant Space Animations */
        @keyframes participant-fade-in {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes participant-shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
            20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        @keyframes participant-glow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(37, 99, 235, 0.3);
            }
            50% {
                box-shadow: 0 0 40px rgba(37, 99, 235, 0.6),
                            0 0 60px rgba(37, 99, 235, 0.4);
            }
        }

        .participant-fade-in {
            animation: participant-fade-in 0.6s ease-out;
        }

        .participant-shake {
            animation: participant-shake 0.6s ease-in-out;
        }

        .participant-glow {
            animation: participant-glow 2s ease-in-out infinite;
        }

        .shake-error {
            animation: participant-shake 0.6s ease-in-out;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { motion } = Motion;
        const { 
            LogIn, 
            User, 
            AlertCircle, 
            BookOpen, 
            FolderOpen, 
            MessageCircle, 
            Bell,
            TrendingUp,
            Award,
            Clock,
            Target,
            LogOut
        } = lucide;

        // Mock Data
        const mockParticipants = {
            'PART-2024-001': {
                id: 'PART-2024-001',
                name: 'Ahmed Benali',
                email: 'ahmed.benali@email.com',
                avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face',
                enrolledDate: '2024-01-15',
                totalProgress: 75,
                completedCourses: 8,
                totalCourses: 12
            },
            'PART-2024-002': {
                id: 'PART-2024-002',
                name: 'Fatima El Mansouri',
                email: 'fatima.elmansouri@email.com',
                avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=150&h=150&fit=crop&crop=face',
                enrolledDate: '2024-02-10',
                totalProgress: 60,
                completedCourses: 5,
                totalCourses: 10
            },
            'DEMO-ACCESS': {
                id: 'DEMO-ACCESS',
                name: 'Utilisateur Démo',
                email: 'demo@matrainingconsulting.com',
                avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face',
                enrolledDate: '2024-07-01',
                totalProgress: 45,
                completedCourses: 3,
                totalCourses: 8
            }
        };

        const validAccessIds = ['PART-2024-001', 'PART-2024-002', 'DEMO-ACCESS', 'STUDENT-2024'];

        // Login Component
        const ParticipantLogin = ({ onLogin }) => {
            const [accessId, setAccessId] = useState('');
            const [error, setError] = useState('');
            const [isLoading, setIsLoading] = useState(false);

            const handleSubmit = async (e) => {
                e.preventDefault();
                setError('');
                setIsLoading(true);

                // Simulation d'une vérification API
                await new Promise(resolve => setTimeout(resolve, 1500));

                if (validAccessIds.includes(accessId)) {
                    onLogin(accessId);
                } else {
                    setError('ID d\'accès invalide. Veuillez vérifier votre identifiant.');
                }
                
                setIsLoading(false);
            };

            const getParticipantName = (id) => {
                return mockParticipants[id]?.name || 'Participant';
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 flex items-center justify-center p-4">
                    <motion.div
                        initial={{ opacity: 0, y: 20 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ duration: 0.6 }}
                        className="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md relative overflow-hidden"
                    >
                        {/* Background decoration */}
                        <div className="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full -translate-y-16 translate-x-16 opacity-10"></div>
                        <div className="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-blue-300 to-blue-500 rounded-full translate-y-12 -translate-x-12 opacity-10"></div>

                        <div className="relative z-10">
                            {/* Header */}
                            <div className="text-center mb-8">
                                <motion.div
                                    initial={{ scale: 0 }}
                                    animate={{ scale: 1 }}
                                    transition={{ delay: 0.2, type: "spring", stiffness: 200 }}
                                    className="w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4"
                                >
                                    <User className="w-8 h-8 text-white" />
                                </motion.div>
                                <h1 className="text-2xl font-bold text-gray-800 mb-2">Espace Participant</h1>
                                <p className="text-gray-600">Accédez à vos formations</p>
                            </div>

                            {/* Form */}
                            <form onSubmit={handleSubmit} className="space-y-6">
                                <div>
                                    <label htmlFor="accessId" className="block text-sm font-medium text-gray-700 mb-2">
                                        ID d'accès
                                    </label>
                                    <div className="relative">
                                        <input
                                            type="text"
                                            id="accessId"
                                            value={accessId}
                                            onChange={(e) => setAccessId(e.target.value)}
                                            className={`w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 ${
                                                error ? 'border-red-300 focus:border-red-500' : 'border-gray-200 focus:border-blue-500'
                                            }`}
                                            placeholder="Entrez votre ID d'accès"
                                            required
                                        />
                                        <LogIn className="absolute right-3 top-3.5 w-5 h-5 text-gray-400" />
                                    </div>
                                </div>

                                {/* Error Message */}
                                {error && (
                                    <motion.div
                                        initial={{ opacity: 0, x: -10 }}
                                        animate={{ opacity: 1, x: 0 }}
                                        className="flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg shake-error"
                                    >
                                        <AlertCircle className="w-5 h-5" />
                                        <span className="text-sm">{error}</span>
                                    </motion.div>
                                )}

                                {/* Submit Button */}
                                <motion.button
                                    type="submit"
                                    disabled={isLoading}
                                    whileHover={{ scale: 1.02 }}
                                    whileTap={{ scale: 0.98 }}
                                    className="w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-6 rounded-xl font-medium hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
                                >
                                    {isLoading ? (
                                        <div className="flex items-center justify-center space-x-2">
                                            <div className="w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
                                            <span>Vérification...</span>
                                        </div>
                                    ) : (
                                        'Accéder'
                                    )}
                                </motion.button>
                            </form>

                            {/* Demo IDs */}
                            <div className="mt-8 p-4 bg-blue-50 rounded-lg">
                                <h3 className="text-sm font-medium text-blue-800 mb-2">IDs de démonstration :</h3>
                                <div className="space-y-1">
                                    {validAccessIds.slice(0, 3).map((id) => (
                                        <button
                                            key={id}
                                            onClick={() => setAccessId(id)}
                                            className="block w-full text-left text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-100 px-2 py-1 rounded transition-colors"
                                        >
                                            {id} - {getParticipantName(id)}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </motion.div>
                </div>
            );
        };

        // Dashboard Component
        const ParticipantDashboard = ({ participantId, onNavigate, onLogout }) => {
            const participant = mockParticipants[participantId] || mockParticipants['PART-2024-001'];
            const unreadNotifications = 3;
            const activeProjects = 2;

            const quickActions = [
                {
                    id: 'formations',
                    title: 'Mes Formations',
                    description: `${participant.completedCourses}/${participant.totalCourses} cours terminés`,
                    icon: BookOpen,
                    color: 'from-blue-500 to-blue-600',
                    bgColor: 'bg-blue-50',
                    textColor: 'text-blue-600',
                    page: 'formations'
                },
                {
                    id: 'projects',
                    title: 'Projets',
                    description: `${activeProjects} projet${activeProjects > 1 ? 's' : ''} en cours`,
                    icon: FolderOpen,
                    color: 'from-green-500 to-green-600',
                    bgColor: 'bg-green-50',
                    textColor: 'text-green-600',
                    page: 'projects'
                },
                {
                    id: 'coaching',
                    title: 'Coaching & Orientation',
                    description: 'Ressources et conseils carrière',
                    icon: MessageCircle,
                    color: 'from-purple-500 to-purple-600',
                    bgColor: 'bg-purple-50',
                    textColor: 'text-purple-600',
                    page: 'coaching'
                },
                {
                    id: 'notifications',
                    title: 'Notifications',
                    description: `${unreadNotifications} nouvelle${unreadNotifications > 1 ? 's' : ''} notification${unreadNotifications > 1 ? 's' : ''}`,
                    icon: Bell,
                    color: 'from-orange-500 to-orange-600',
                    bgColor: 'bg-orange-50',
                    textColor: 'text-orange-600',
                    page: 'notifications'
                }
            ];

            const stats = [
                {
                    label: 'Progression globale',
                    value: `${participant.totalProgress}%`,
                    icon: TrendingUp,
                    color: 'text-blue-600'
                },
                {
                    label: 'Cours terminés',
                    value: participant.completedCourses,
                    icon: Award,
                    color: 'text-green-600'
                },
                {
                    label: 'Temps d\'étude',
                    value: '45h',
                    icon: Clock,
                    color: 'text-purple-600'
                },
                {
                    label: 'Objectifs atteints',
                    value: '8/10',
                    icon: Target,
                    color: 'text-orange-600'
                }
            ];

            return (
                <div className="min-h-screen bg-gray-50">
                    {/* Header */}
                    <div className="bg-white shadow-sm border-b">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                            <motion.div
                                initial={{ opacity: 0, y: -20 }}
                                animate={{ opacity: 1, y: 0 }}
                                transition={{ duration: 0.6 }}
                                className="flex items-center justify-between"
                            >
                                <div className="flex items-center space-x-4">
                                    {participant.avatar && (
                                        <img
                                            src={participant.avatar}
                                            alt={participant.name}
                                            className="w-12 h-12 rounded-full object-cover border-2 border-blue-200"
                                        />
                                    )}
                                    <div>
                                        <h1 className="text-2xl font-bold text-gray-900">
                                            Bienvenue, {participant.name}
                                        </h1>
                                        <p className="text-gray-600">
                                            Inscrit depuis le {new Date(participant.enrolledDate).toLocaleDateString('fr-FR')}
                                        </p>
                                    </div>
                                </div>
                                <div className="flex items-center space-x-4">
                                    <div className="text-right">
                                        <div className="text-sm text-gray-500">Progression globale</div>
                                        <div className="flex items-center space-x-2">
                                            <div className="w-32 bg-gray-200 rounded-full h-2">
                                                <motion.div
                                                    initial={{ width: 0 }}
                                                    animate={{ width: `${participant.totalProgress}%` }}
                                                    transition={{ duration: 1, delay: 0.5 }}
                                                    className="bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full"
                                                ></motion.div>
                                            </div>
                                            <span className="text-lg font-semibold text-blue-600">
                                                {participant.totalProgress}%
                                            </span>
                                        </div>
                                    </div>
                                    <motion.button
                                        whileHover={{ scale: 1.05 }}
                                        whileTap={{ scale: 0.95 }}
                                        onClick={onLogout}
                                        className="flex items-center space-x-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 px-3 py-2 rounded-lg transition-colors"
                                    >
                                        <LogOut className="w-4 h-4" />
                                        <span>Déconnexion</span>
                                    </motion.button>
                                </div>
                            </motion.div>
                        </div>
                    </div>

                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        {/* Stats Cards */}
                        <motion.div
                            initial={{ opacity: 0, y: 20 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ duration: 0.6, delay: 0.2 }}
                            className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"
                        >
                            {stats.map((stat, index) => (
                                <motion.div
                                    key={stat.label}
                                    initial={{ opacity: 0, scale: 0.9 }}
                                    animate={{ opacity: 1, scale: 1 }}
                                    transition={{ duration: 0.4, delay: 0.1 * index }}
                                    className="bg-white rounded-xl p-6 shadow-sm border hover:shadow-md transition-shadow duration-200"
                                >
                                    <div className="flex items-center justify-between">
                                        <div>
                                            <p className="text-sm text-gray-600 mb-1">{stat.label}</p>
                                            <p className="text-2xl font-bold text-gray-900">{stat.value}</p>
                                        </div>
                                        <div className={`p-3 rounded-lg bg-gray-50 ${stat.color}`}>
                                            <stat.icon className="w-6 h-6" />
                                        </div>
                                    </div>
                                </motion.div>
                            ))}
                        </motion.div>

                        {/* Quick Actions */}
                        <motion.div
                            initial={{ opacity: 0, y: 20 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ duration: 0.6, delay: 0.4 }}
                            className="mb-8"
                        >
                            <h2 className="text-xl font-semibold text-gray-900 mb-6">Accès rapide</h2>
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                                {quickActions.map((action, index) => (
                                    <motion.div
                                        key={action.id}
                                        initial={{ opacity: 0, y: 20 }}
                                        animate={{ opacity: 1, y: 0 }}
                                        transition={{ duration: 0.4, delay: 0.1 * index }}
                                        whileHover={{ y: -5, scale: 1.02 }}
                                        onClick={() => alert(`Navigation vers ${action.title}`)}
                                        className="bg-white rounded-xl p-6 shadow-sm border hover:shadow-lg transition-all duration-200 cursor-pointer group"
                                    >
                                        <div className={`w-12 h-12 ${action.bgColor} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-200`}>
                                            <action.icon className={`w-6 h-6 ${action.textColor}`} />
                                        </div>
                                        <h3 className="text-lg font-semibold text-gray-900 mb-2">{action.title}</h3>
                                        <p className="text-sm text-gray-600">{action.description}</p>
                                        <div className={`mt-4 inline-flex items-center text-sm font-medium ${action.textColor} group-hover:translate-x-1 transition-transform duration-200`}>
                                            Accéder →
                                        </div>
                                    </motion.div>
                                ))}
                            </div>
                        </motion.div>

                        {/* Recent Activity */}
                        <motion.div
                            initial={{ opacity: 0, y: 20 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ duration: 0.6, delay: 0.6 }}
                            className="bg-white rounded-xl shadow-sm border p-6"
                        >
                            <h2 className="text-xl font-semibold text-gray-900 mb-6">Activité récente</h2>
                            <div className="space-y-4">
                                <div className="flex items-center space-x-4 p-4 bg-green-50 rounded-lg">
                                    <div className="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
                                        <Award className="w-5 h-5 text-green-600" />
                                    </div>
                                    <div className="flex-1">
                                        <p className="text-sm font-medium text-gray-900">
                                            Cours "Fondamentaux HTML/CSS" terminé
                                        </p>
                                        <p className="text-xs text-gray-500">Il y a 2 jours</p>
                                    </div>
                                </div>
                                
                                <div className="flex items-center space-x-4 p-4 bg-blue-50 rounded-lg">
                                    <div className="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                                        <FolderOpen className="w-5 h-5 text-blue-600" />
                                    </div>
                                    <div className="flex-1">
                                        <p className="text-sm font-medium text-gray-900">
                                            Projet "Site E-commerce React" accepté
                                        </p>
                                        <p className="text-xs text-gray-500">Il y a 5 jours</p>
                                    </div>
                                </div>
                                
                                <div className="flex items-center space-x-4 p-4 bg-purple-50 rounded-lg">
                                    <div className="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center">
                                        <BookOpen className="w-5 h-5 text-purple-600" />
                                    </div>
                                    <div className="flex-1">
                                        <p className="text-sm font-medium text-gray-900">
                                            Nouveau module "Promises et Async/Await" débloqué
                                        </p>
                                        <p className="text-xs text-gray-500">Il y a 1 semaine</p>
                                    </div>
                                </div>
                            </div>
                        </motion.div>
                    </div>
                </div>
            );
        };

        // Main App Component
        const ParticipantSpaceApp = () => {
            const [currentPage, setCurrentPage] = useState('login');
            const [participantId, setParticipantId] = useState('');

            const handleLogin = (id) => {
                setParticipantId(id);
                setCurrentPage('dashboard');
            };

            const handleLogout = () => {
                setParticipantId('');
                setCurrentPage('login');
            };

            const handleNavigate = (page) => {
                setCurrentPage(page);
            };

            if (currentPage === 'login') {
                return <ParticipantLogin onLogin={handleLogin} />;
            }

            return (
                <motion.div
                    key={currentPage}
                    initial={{ opacity: 0, x: 20 }}
                    animate={{ opacity: 1, x: 0 }}
                    exit={{ opacity: 0, x: -20 }}
                    transition={{ duration: 0.3 }}
                >
                    <ParticipantDashboard 
                        participantId={participantId} 
                        onNavigate={handleNavigate}
                        onLogout={handleLogout}
                    />
                </motion.div>
            );
        };

        // Render the app
        ReactDOM.render(<ParticipantSpaceApp />, document.getElementById('root'));
    </script>
</body>
</html>
